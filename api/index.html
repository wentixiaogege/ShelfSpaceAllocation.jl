<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · ShelfSpaceAllocation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><nav class="toc"><a href="../"><img class="logo" src="../assets/logo.svg" alt="ShelfSpaceAllocation logo"/></a><h1>ShelfSpaceAllocation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../model/">Model</a></li><li><a class="toctext" href="../plotting/">Plotting</a></li><li><a class="toctext" href="../io/">IO</a></li><li><a class="toctext" href="../heuristics/">Heuristics</a></li><li class="current"><a class="toctext" href>API</a><ul class="internal"><li><a class="toctext" href="#Model-1">Model</a></li><li><a class="toctext" href="#IO-1">IO</a></li><li><a class="toctext" href="#Plotting-1">Plotting</a></li><li><a class="toctext" href="#Model-Reference-1">Model Reference</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>API</a></li></ul><a class="edit-page" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/master/docs/src/api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="API-1" href="#API-1">API</a></h1><p>Documentation for <code>ShelfSpaceAllocation.jl</code>&#39;s interface.</p><h2><a class="nav-anchor" id="Model-1" href="#Model-1">Model</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.ShelfSpaceAllocationModel" href="#ShelfSpaceAllocation.ShelfSpaceAllocationModel"><code>ShelfSpaceAllocation.ShelfSpaceAllocationModel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>ShelfSpaceAllocationModel type as JuMP.Model</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/model.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.Specs" href="#ShelfSpaceAllocation.Specs"><code>ShelfSpaceAllocation.Specs</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Specs</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.Params" href="#ShelfSpaceAllocation.Params"><code>ShelfSpaceAllocation.Params</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Parameters</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.Variables" href="#ShelfSpaceAllocation.Variables"><code>ShelfSpaceAllocation.Variables</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Variables</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.Objectives" href="#ShelfSpaceAllocation.Objectives"><code>ShelfSpaceAllocation.Objectives</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Objetives</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/55e36cc308b66d3472990a06b2797f9f9154ea0a/base/#L0">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.ShelfSpaceAllocationModel-Tuple{Params,Specs}" href="#ShelfSpaceAllocation.ShelfSpaceAllocationModel-Tuple{Params,Specs}"><code>ShelfSpaceAllocation.ShelfSpaceAllocationModel</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Mixed Integer Linear Program (MILP) formulation of the Shelf Space Allocation Problem (SSAP).</p><p><strong>Arguments</strong></p><ul><li><code>parameters::Params</code></li><li><code>specs::Specs</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/model.jl#L93-L100">source</a></section><h2><a class="nav-anchor" id="IO-1" href="#IO-1">IO</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.Params-Tuple{AbstractString,AbstractString}" href="#ShelfSpaceAllocation.Params-Tuple{AbstractString,AbstractString}"><code>ShelfSpaceAllocation.Params</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Load sets, subsets and parameters from CSV files.</p><p><strong>Arguments</strong></p><ul><li><code>product_path::AbstractString</code></li><li><code>shelf_path::AbstractString</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/io.jl#L3-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.Variables-Tuple{JuMP.Model}" href="#ShelfSpaceAllocation.Variables-Tuple{JuMP.Model}"><code>ShelfSpaceAllocation.Variables</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Variable values from model.</p><p><strong>Arguments</strong></p><ul><li><code>model::ShelfSpaceAllocationModel</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/model.jl#L73-L78">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.Objectives-Tuple{JuMP.Model}" href="#ShelfSpaceAllocation.Objectives-Tuple{JuMP.Model}"><code>ShelfSpaceAllocation.Objectives</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Objetive values from model.</p><p><strong>Arguments</strong></p><ul><li><code>model::ShelfSpaceAllocationModel</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/model.jl#L83-L88">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.save_json" href="#ShelfSpaceAllocation.save_json"><code>ShelfSpaceAllocation.save_json</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Save object into JSON file.</p><p><strong>Arguments</strong></p><ul><li><code>object</code></li><li><code>output_path::AbstractString</code>: Full filepath, e.g., <code>path.json</code>.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/io.jl#L55-L61">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.load_json" href="#ShelfSpaceAllocation.load_json"><code>ShelfSpaceAllocation.load_json</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Load values to type from JSON file.</p><p><strong>Arguments</strong></p><ul><li><code>type</code></li><li><code>filepath::AbstractString</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/io.jl#L90-L96">source</a></section><h2><a class="nav-anchor" id="Plotting-1" href="#Plotting-1">Plotting</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.plot_planogram" href="#ShelfSpaceAllocation.plot_planogram"><code>ShelfSpaceAllocation.plot_planogram</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Creates a planogram which visualizes the product placement on the shelves.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/plotting.jl#L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.plot_planograms" href="#ShelfSpaceAllocation.plot_planograms"><code>ShelfSpaceAllocation.plot_planograms</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Create a planogram for each module.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/plotting.jl#L93">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.plot_block_allocation" href="#ShelfSpaceAllocation.plot_block_allocation"><code>ShelfSpaceAllocation.plot_block_allocation</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Block starting locations and widths.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/plotting.jl#L102">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.plot_block_allocations" href="#ShelfSpaceAllocation.plot_block_allocations"><code>ShelfSpaceAllocation.plot_block_allocations</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Create block_allocation for each module.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/plotting.jl#L137">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.plot_product_facings" href="#ShelfSpaceAllocation.plot_product_facings"><code>ShelfSpaceAllocation.plot_product_facings</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Creates a barchart of number of product facings per product.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/plotting.jl#L142">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.plot_demand_and_sales" href="#ShelfSpaceAllocation.plot_demand_and_sales"><code>ShelfSpaceAllocation.plot_demand_and_sales</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Bar chart of demand and sales per product.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/plotting.jl#L174">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.plot_allocation_amount" href="#ShelfSpaceAllocation.plot_allocation_amount"><code>ShelfSpaceAllocation.plot_allocation_amount</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Plot the total amount of allocated facings per product per block.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/plotting.jl#L204">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ShelfSpaceAllocation.plot_allocation_percentage" href="#ShelfSpaceAllocation.plot_allocation_percentage"><code>ShelfSpaceAllocation.plot_allocation_percentage</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Plot the percentage of allocated facings of maximum facings per block.</p></div></div><a class="source-link" target="_blank" href="https://github.com/jaantollander/ShelfSpaceAllocation/blob/bf64cb1c4d80c7d2e0235c63d1b91143f6fc167e/src/plotting.jl#L219">source</a></section><h2><a class="nav-anchor" id="Model-Reference-1" href="#Model-Reference-1">Model Reference</a></h2><p><em>Sets and Subsets</em></p><ul><li><span>$p∈P$</span> – A set of <strong>products</strong>.</li><li><span>$s∈S$</span> – A set of <strong>shelves</strong>.</li><li><span>$b∈B$</span> – A set of <strong>blocks</strong>. Blocks are an index of mutually exclusive subsets of products.</li><li><span>$P_b⊆P$</span> – A <strong>block</strong> is a subset of products.</li><li><span>$m∈M$</span> – A set of <strong>modules</strong>. Modules are an index of a mutually exclusive subset of shelves.</li><li><span>$S_m⊆S$</span> – A <strong>module</strong> is a subset of shelves.</li></ul><p><em>Parameters</em></p><ul><li><span>$N_p^{min}$</span>, <span>$N_p^{max}$</span> – The minimum and maximum number of facings for product <span>$p$</span></li><li><span>$G_p$</span> – Unit profit of product <span>$p$</span>; used as shortage penalty (treated to be <span>$\max\{0, G_p\}$</span></li><li><span>$R_p$</span> – Replenishment period of product <span>$p$</span></li><li><span>$D_p$</span> – Demand forecast of product <span>$p$</span></li><li><span>$L_p$</span> – Priority weight for height placement of product <span>$p$</span></li><li><span>$W_p$</span> – Facing width of product <span>$p$</span></li><li><span>$H_p$</span> – Height of product <span>$p$</span></li><li><span>$M_p$</span> – Unit weight of product <span>$p$</span></li><li><span>$P_{p,s}$</span> – Number units per facing of product <span>$p$</span> on shelf <span>$s$</span></li><li><span>$M_s^{min}$</span>, <span>$M_s^{max}$</span> – The minimum and maximum unit weight on shelf <span>$s$</span></li><li><span>$W_s$</span> – Width of shelf <span>$s$</span></li><li><span>$H_s$</span> – Height of shelf <span>$s$</span></li><li><span>$L_p$</span> – Shelf level, counted from bottom to top</li><li><span>$SL$</span> – Slack, maximum difference in block starting points and between block max and min width</li></ul><p><em>Objective</em></p><div>\[\min \left(w_1 ∑_s o_s + w_2 ∑_p G_p e_p + w_3 ∑_{p,s} L_p L_s n_{p,s}\right)\]</div><ul><li><span>$w_1=0.5$</span></li><li><span>$w_2=10.0$</span></li><li><span>$w_3=0.1$</span></li></ul><p><em>Basic Variables</em></p><ul><li><span>$n_{p,s}$</span> – Number of facings of product <span>$p$</span> on shelf <span>$s$</span></li><li><span>$s_p$</span> – Amount of product <span>$p$</span> sold</li><li><span>$e_p$</span> – Shortage of product <span>$p$</span> (mismatch between demand and on-shelf inventory)</li><li><span>$o_p$</span> – Total empty space on shelf <span>$s$</span></li><li><span>$y_p$</span> – <span>$1$</span> if product is assigned to module <span>$m$</span>, <span>$0$</span> otherwise</li></ul><p><em>Basic Constraints</em></p><div>\[\begin{aligned}
&amp; n_{p,s} ∈ ℤ_{≥0}, &amp; ∀p,s \\
&amp; y_p ∈ \{0,1\}, &amp; ∀p \\
&amp; s_p ≥ 0, &amp; ∀p \\
&amp; e_p ≥ 0, &amp; ∀p \\
&amp; o_s ≥ 0, &amp; ∀s \\
&amp; \\
&amp; n_{p,s}=0, &amp; ∀p,s∣H_p &gt; H_s \\
&amp; n_{p,s}=0, &amp; ∀p,s∣M_p &gt; M_s^{max} \\
&amp; ∑_p n_{p,s} ≥ y_{p}, &amp; ∀p \\
&amp; N_p^{min} y_p ≤ ∑_s n_{p,s} ≤ N_p^{max} y_p, &amp; ∀p \\
&amp; s_p ≤ \min\left(∑_s \frac{30}{R_p} P_{p,s} n_{p,s}, D_p\right), &amp; ∀p \\
&amp; s_p + e_p = D_p, &amp; ∀p \\
&amp; ∑_p W_p n_{p,s} + o_s = W_s, &amp; ∀s \\
\end{aligned}\]</div><p><em>Block Variables</em></p><ul><li><span>$z_{b,s}$</span> – <span>$1$</span> if block is assigned on shelf <span>$s$</span>, otherwise <span>$0$</span></li><li><span>$z_{b,s}^f$</span> – <span>$1$</span> if shelf <span>$s$</span> is the first shelf of block <span>$b$</span>, otherwise <span>$0$</span></li><li><span>$z_{b,s}^l$</span> – <span>$1$</span> if shelf <span>$s$</span> is the last shelf of block <span>$b$</span>, otherwise <span>$0$</span></li><li><span>$b_{b,s}$</span> – Width of block <span>$b$</span> on shelf <span>$s$</span></li><li><span>$m_{b,m}$</span> – Block width on module</li><li><span>$v_{b,m}$</span> – <span>$1$</span> if block is assigned to module <span>$m$</span>, otherwise <span>$0$</span></li><li><span>$x_{b,s}$</span> – Block starting location on shelf <span>$s$</span></li><li><span>$x_{b,m}$</span> – Block starting location on module <span>$m$</span></li><li><span>$w_{b,b&#39;}$</span> – <span>$1$</span> if block <span>$b$</span> precedes block <span>$b&#39;$</span>, otherwise <span>$0$</span></li></ul><p><em>Block Constraints</em></p><div>\[\begin{aligned}
&amp; b_{b,s}≥0, &amp; ∀b,s \\
&amp; z_{b,s}∈\{0,1\}, &amp; ∀b,s \\
&amp; m_{b,m}≥0, &amp; ∀b,m \\
&amp; z_{b,s}^f∈\{0,1\}, &amp; ∀b,s \\
&amp; z_{b,s}^l∈\{0,1\}, &amp; ∀b,s \\
&amp; x_{b,s}≥0, &amp; ∀b,s \\
&amp; x_{b,m}≥0, &amp; ∀b,m \\
&amp; w_{b,b&#39;}∈\{0,1\}, &amp; ∀b,b&#39; \\
&amp; v_{b,m}∈\{0,1\}, &amp; ∀b,m \\
&amp; \\
&amp; ∑_{p∈P_b} W_p n_{p,s} ≤ b_{b,s}, &amp; ∀s,b \\
&amp; ∑_b b_{b,s} ≤ W_s, &amp; ∀s \\
&amp; b_{b,s} ≤ W_s z_{b,s}, &amp; ∀b,s \\
&amp; b_{b,s} ≥ m_{b,m} - W_s (1 - z_{b,s}) - SL, &amp; ∀b,m,s∣s∈S_m \\
&amp; b_{b,s} ≤ m_{b,m} + W_s (1 - z_{b,s}) + SL, &amp; ∀b,m,s∣s∈S_m \\
&amp; \\
&amp; ∑_s z_{b,s}^f ≤ 1, &amp; ∀b \\
&amp; ∑_s z_{b,s}^l ≤ 1, &amp; ∀b \\
&amp; z_{b,s}^f = z_{b,s}, &amp; ∀b,s=1 \\
&amp; z_{b,s}^l = z_{b,s}, &amp; ∀b,s=|S| \\
&amp; z_{b,s+1}^f + z_{b,s} = z_{b,s+1} + z_{b,s}^l, &amp; ∀b,s∣s≤|S|-1 \\
&amp; \\
&amp; ∑_{p∈P_b} n_{p,s} ≥ z_{b,s}, &amp; ∀b,s \\
&amp; n_{p,s} ≤ N_p^{max} z_{b,s}, &amp; ∀b,p,s∣p∈P_b \\
&amp; \\
&amp; x_{b,s} ≤ W_s z_{b,s}, &amp; ∀b,s \\
&amp; x_{b,s} + b_{b,s} ≤ W_s, &amp; ∀b,s \\
&amp; x_{b,s} + W_s (1 - z_{b,s}) ≥ x_{b&#39;,s} + b_{b,s} - W_s (1 - w_{b,b&#39;}), &amp; ∀b,b&#39;,m∣b≠b&#39; \\
&amp; x_{b&#39;,s} + W_s (1 - z_{b&#39;, s}) ≥ x_{b,s} + b_{b,s} - W_s w_{b,b&#39;}, &amp; ∀b,b&#39;,m∣b≠b&#39; \\
&amp; x_{b,m} ≥ x_{b,s} - W_s (1 - z_{b,s}) - SL, &amp; ∀b,m,s∣s∈S_m \\
&amp; x_{b,m} ≤ x_{b,s} + W_s (1 - z_{b,s}) + SL, &amp; ∀b,m,s∣s∈S_m \\
&amp; \\
&amp; n_{p,s} ≤ N_p^{max} v_{b,m}, &amp; ∀p,b,m,s∣s∈S_m,p∈P_b \\
&amp; ∑_m v_{b,m} ≤ 1, &amp; ∀b
\end{aligned}\]</div><footer><hr/><a class="previous" href="../heuristics/"><span class="direction">Previous</span><span class="title">Heuristics</span></a></footer></article></body></html>
